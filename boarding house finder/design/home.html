<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Home</title>

   <!-- font link, -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">

   <!-- custom css file link  -->
   <link rel="stylesheet" href="css/style.css">

</head>
<body>
   
<!-- header section starts  -->

<header class="header">

   <nav class="navbar nav-1">
      <section class="flex">
         <a href="home.html" class="logo"><i class="fas fa-house"></i>MyHome</a>
      </section>
   </nav>

   <nav class="navbar nav-2">
      <section class="flex">
         <div id="menu-btn" class="fas fa-bars"></div>
         <div class="menu">
            <ul>
               </li>
               <li><a href="#">help<i class="fas fa-angle-down"></i></a>
                  <ul>
                     <li><a href="about.html">about us</a></i></li>
                     <li><a href="contact.html">contact us</a></i></li>
                  </ul>
               </li>
            </ul>
         </div>

         <ul>
            <li><a href="register.html"><i class="fas fa-user"></i> register</a></li>
                  <li><a href="login.html">login</a></li>
               </ul>
            </li>
         </ul>
      </section>
   </nav>

</header>

<!-- header section ends -->
<!-- home section starts  -->

<div class="home">
   <section class="center">
      <form id="searchForm">
         <h3>Find your new Boarding House</h3>
         <div class="box">
            <p>enter location <span>*</span></p>
            <input type="text" name="location" required maxlength="50" placeholder="Enter street or city" class="input">
         </div>
         <div class="flex">
            <div class="box"> 
               <p>Room Type</p>
               <select name="room_type" class="input" required>
                  <option value="">Any Type</option>
                  <option value="Studio Type">Studio Type</option>
                  <option value="Bed Spacer">Bed Spacer</option>
               </select>
            </div>
            <div class="box">
               <p>Capacity</p>
               <select name="capacity" class="input" required>
                  <option value="">Any Capacity</option>
                  <option value="1">1 person</option>
                  <option value="2-4">2-4 person</option>
                  <option value="4-5">4-5 person</option>
               </select>
            </div>
            <div class="box">
               <p>Minimum budget</p>
               <select name="min_price" class="input" required>
                  <option value="0">Any</option>
                  <option value="1000">₱1000</option>
                  <option value="2000">₱2000</option>
                  <option value="3000">₱3000</option>
                  <option value="4000">₱4000</option>
                  <option value="5000">₱5000</option>
               </select>
            </div>   
            <div class="box">
               <p>Maximum budget</p>
               <select name="max_price" class="input" required>
                  <option value="100000">Any</option>
                  <option value="2000">₱2000</option>
                  <option value="3000">₱3000</option>
                  <option value="4000">₱4000</option>
                  <option value="5000">₱5000</option>
                  <option value="6000">₱6000</option>
               </select>
            </div>
         </div>
         <input type="submit" value="search boarding house" name="search" class="btn">
      </form>
   </section>
</div>

<script>
document.getElementById('searchForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const formData = new FormData(this);
    
    // Prepare search data
    const data = {
        location: formData.get('location'),
        room_type: formData.get('room_type'),
        capacity: formData.get('capacity'),
        min_price: parseInt(formData.get('min_price')),
        max_price: parseInt(formData.get('max_price'))
    };
    
    // Send to search API
    fetch('api/properties/search.php', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(data)
    })
    .then(response => response.json())
    .then(data => {
        if (data.message.includes('successfully')) {
            // Store results and redirect to search page
            localStorage.setItem('searchResults', JSON.stringify(data.properties));
            window.location.href = 'search.html';
        } else {
            alert('Search failed: ' + data.message);
        }
    })
    .catch(error => {
        console.error('Error:', error);
        alert('Search failed. Please try again.');
    });
});
</script>

<!-- home section ends -->
<!-- listings section starts  -->

<section class="listings">

   <h1 class="heading">searched results</h1>

   <div class="box-container">

      <div class="box">
         <div class="admin">
            <h3>K</h3>
            <div>
               <p>owner name</p>
               <span>10-12-2025</span>
            </div>
         </div>
         <div class="thumb">
            <p class="total-images"><i class="far fa-image"></i><span>4</span></p>
            <p class="type"><span>Bed Spacer</span><span>Available</span></p>
            <form action="" method="post" class="save">
               <button type="submit" name="save" class="far fa-heart"></button>
            </form>
            <img src="images/house-img-1.pn" alt="">
         </div>
         <h3 class="name">Boarding House</h3>
         <p class="location"><i class="fas fa-map-marker-alt"></i><span>address</span></p>
         <div class="flex">
            <p><i class="fas fa-bed"></i><span>3</span></p>
            <p><i class="fas fa-bath"></i><span>2</span></p>
         </div>
         <a href="view_property.html" class="btn">view property</a>
      </div>

      <div class="box">
         <div class="admin">
            <h3>j</h3>
            <div>
               <p>owner name</p>
               <span>10-12-2025</span>
            </div>
         </div>
         <div class="thumb">
            <p class="total-images"><i class="far fa-image"></i><span>4</span></p>
            <p class="type"><span>Studio Type</span><span>Available</span></p>
            <form action="" method="post" class="save">
               <button type="submit" name="save" class="far fa-heart"></button>
            </form>
            <img src="images/house-img-2.pn" alt="">
         </div>
         <h3 class="name">address</h3>
         <p class="location"><i class="fas fa-map-marker-alt"></i><span>address</span></p>
         <div class="flex">
            <p><i class="fas fa-person"></i><span>3</span></p>
            <p><i class="fas fa-house"></i><span>2</span></p>
            <p><i class="fas fa-wifi"></i><span></span></p>
         </div>
         <a href="view_property.html" class="btn">view property</a>
      </div>

      <div class="box">
         <div class="admin">
            <h3>j</h3>
            <div>
               <p>name</p>
               <span>10-12-2025</span>
            </div>
         </div>
         <div class="thumb">
            <p class="total-images"><i class="far fa-image"></i><span>4</span></p>
            <p class="type"><span>Bed Spacer</span><span>Available</span></p>
            <form action="" method="post" class="save">
               <button type="submit" name="save" class="far fa-heart"></button>
            </form>
            <img src="images/house-img-3.jpg" alt="">
         </div>
         <h3 class="name">Golden Harvest</h3>
         <p class="location"><i class="fas fa-map-marker-alt"></i><span>address</span></p>
         <div class="flex">
            <p><i class="fas fa-bed"></i><span>3</span></p>
            <p><i class="fas fa-bath"></i><span>2</span></p>
         </div>
         <a href="view_property.html" class="btn">view property</a>
      </div>

   </div>

</section>
<!-- listings section ends -->
<!-- footer section starts  -->

<footer class="footer">

   <section class="flex">

      <div class="box">
         <a href="tel:1234567890"><i class="fas fa-phone"></i><span>09912412441</span></a>
          <a href="contact.html"><span>contact</span></a>
      </div>

      <div class="box">
          <a href="mailto:shaikhanas@gmail.com"><i class="fas fa-envelope"></i><span>GHboardinghouse@gmail.com</span></a>
         <a href="listings.html"><span>all listings</span></a>
      </div>

      <div class="box">
         <a href="#"><i class="fas fa-map-marker-alt"></i><span>Golden Harvest Subdivision, Carig Sur</span></a>
         <a href="about.html"><span>about</span></a>

      </div>
   </section>

   <div class="credit">Design and Developed by <span>CPE-3B</span></div>

</footer>

<!-- footer section ends -->
<!-- custom js file link  -->
<script src="js/script.js"></script>

</body>
</html>